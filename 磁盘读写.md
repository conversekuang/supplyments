

这方面我自己也不是太清楚操作系统底层的磁盘读写原理，根据查的资料和自己对操作系统的理解，大概归纳如下：

​	**在操作系统看来两个逻辑上连续的sector未必在物理上就是连续的**。

​	因为读写都是物理地址映射出的基于虚拟地址，而现代操作系统基本都使用main memory为需要写的data做cache，使用append only的方法，能够尽可能的使得要写的内容在物理上连续，从而读的时候也是一个顺序读。



​	我们知道，**磁盘读写最慢的地方在于寻道**，根据kafka官网写的资料是，**寻道时间大概10ms**，寻道之后**磁头顺序读取信息的速度是很快的**。根据kafka官网的说法，6个7200转的磁盘组成raid5，顺序写的速度能达到（600MB/S），而随机读写速度仅为100kb/s，如下图所示，顺序读有时候比内存的随机读取还要快。而从stackoverflow上搜索得到的答案是，单块磁盘每30ms能写1MB数据，写100MB数据大概需要3秒钟。

<img src="https://deliveryimages.acm.org/10.1145/1570000/1563874/jacobs3.jpg" style="zoom:90%"><



