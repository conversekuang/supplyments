

缓存的定义：

一种**存储数据的组件**。实际上，凡是位于**速度相差较大的两种硬件之间**，用于协调两者数据传输速度差异的结构，均可称之为缓存。



---



> 缓存与内存：

缓存经常存储在内存中，但是并不等于内存。

【反例：可以SSD 作为冷数据的缓存。比如说 360 开源的 Pika 就是使用 SSD 存储数据解决 Redis 的容量瓶颈的】



> 缓存与缓冲区

缓冲区则是一块临时存储数据的区域，这些数据后面会被传输到其他设备上。

缓冲区更像“消息队列篇”中即将提到的消息队列，用以弥补高速设备和低速设备通信时的速度差。

【例如写磁盘，不是直接刷盘而是写到缓冲区然后，一定时间或者一定比例再统一的进行刷盘。】



缓存：理论上说，我们可以通过缓存解决所有关于“慢”的问题，比如从磁盘随机读取数据慢，从数据库查询数据慢，只是不同的场景消耗的存储成本不同。



简单来说就是buffer偏重于写，而cache偏重于读。

---



常见的硬件设备速度

![](https://s2.loli.net/2021/12/16/M9S2kH1amuz34c6.jpg)



---

缓存分类：

- 静态缓存

  静态资源

- 分布式缓存

   动态资源：Memcached、Redis 

- 热点本地缓存

  guava Cache， Hashmap，Ehcache

  

**缺点**

\* 适用手读多写入的场景，并且数据最好有一定的热点属性
\* 缓存会使系统更复杂，并且带来数据不一致的风险
\* 缓存通常使用内存作为存储介质，但内存是有限的
\* 缓存会增加运维的成本



